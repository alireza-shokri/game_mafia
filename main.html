<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>game_mafia</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="contentAll-2">
        <form action="">
            <div class="parent-plaer">

                <div class="plaer">
                    <div class="parent_img-iconHed">
                        <img src="imgplaer/reza-merabdi.jpg" alt=""  class="img-plear" >
                            <div class="parent_iconHed">
                                <img src="icon/Artdesigner-Emoticons-2-Dont-know.128.png" alt="" class="img_hed_like-dont" >
                                <img src="icon/Graphicloads-Colorful-Long-Shadow-Hand-thumbs-up-like-2.256.png" alt="" class="img_hed_like-dont">
                                <img src="icon/Graphicloads-Colorful-Long-Shadow-Hand-thumbs-up-like-2.256.png" alt="" class="img_hed_like-dont">
                            </div>
                    </div>
                    <p class="naem-plaer">reza</p>
                    <input type="radio" class="input_radio-plaer" value="reza-merabdi" name="target">
                </div>

                <div class="plaer">
                    <div class="parent_img-iconHed" >
                        <img src="imgplaer/morteza-kheri.jpg" alt=""  class="img-plear" >
                            <div class="parent_iconHed">
                                <img src="icon/Artdesigner-Emoticons-2-Dont-know.128.png" alt="" class="img_hed_like-dont" >
                                <img src="icon/Graphicloads-Colorful-Long-Shadow-Hand-thumbs-up-like-2.256.png" alt="" class="img_hed_like-dont">
                                <img src="icon/Graphicloads-Colorful-Long-Shadow-Hand-thumbs-up-like-2.256.png" alt="" class="img_hed_like-dont">
                            </div>
                    </div>
                    <p class="naem-plaer">morteza</p>
                    <input type="radio" class="input_radio-plaer" value="morteza-kheri" name="target">
                </div>

                <div class="plaer">
                    <div class="parent_img-iconHed" >
                        <img src="imgplaer/ali-borhani.jpg" alt="" class="img-plear">
                            <div class="parent_iconHed">
                                <img src="icon/Artdesigner-Emoticons-2-Dont-know.128.png" alt="" class="img_hed_like-dont" >
                                <img src="icon/Graphicloads-Colorful-Long-Shadow-Hand-thumbs-up-like-2.256.png" alt="" class="img_hed_like-dont">
                                <img src="icon/Graphicloads-Colorful-Long-Shadow-Hand-thumbs-up-like-2.256.png" alt="" class="img_hed_like-dont">
                            </div>
                    </div>
                    <p class="naem-plaer">ali</p>
                    <input type="radio" class="input_radio-plaer"  value="ali-borhani" name="target">
                </div>
            </div>

            <div class="father-buttn">
                <button class="buttn-finsh">yes and ok</button>
            </div>

            <div class="me"> 
                <div class="do-work">
                    <span class="parent_img-do">
                        <img src="icon/Artdesigner-Emoticons-2-Dont-know.128.png" alt="img-idont" class="img-indont">
                        <input type="radio" class="input_radio-do" value="idont-know" name="work">
                    </span>
                    <span  class="parent_img-do">
                        <img src="icon/Graphicloads-Colorful-Long-Shadow-Hand-thumbs-up-like-2.256.png" alt="img-like" class="img-like">
                        <input type="radio" class="input_radio-do" value="like" name="work">
                    </span>
                    <span class="parent_img-do">
                        <img src="icon/Sykonist-Looney-Tunes-Marvin-Martian-Angry-with-gun.256.png" alt="img-gun" class="img-gun">
                        <input type="radio" class="input_radio-do" value="gun" name="work">
                    </span>
                    <span class="parent_img-do">
                        <img src="icon/Medicalwp-Medical-Doctor-Briefcase-blue.256.png" alt="img-help" class="img-help">
                        <input type="radio" class="input_radio-do" value="doctor-help" name="work">
                    </span> 
                </div>
                <img src="imgplaer/alireza-shokri.jpg" alt=""  class="img-me">
                <p class="naem-me">alireza</p>
            </div>
        </form>
    </div>

    <!-- // script------------------------------------------------------------ -->
    <script>
        let $=document;
        let plaer=$.querySelectorAll('.plaer');
        let parent_img_do=$.querySelectorAll('.parent_img-do');
        let buttn_finsh=$.querySelector('.buttn-finsh');
        let select_work;
        let select_persen;
        let vazet=false;
        let vazet2=false;
        let i2;

        for(i2=0;i2<plaer.length;i2++) plaer[i2].addEventListener('click',select_target);
        
        for(i2=0;i2<parent_img_do.length;i2++) parent_img_do[i2].addEventListener('click',img_do);
          
    // img_do------------------------------------------------------------
        function img_do(event){
            if(event.target.nextElementSibling.value=='gun')event.target.parentElement.style.backgroundColor='red';
            else event.target.parentElement.style.backgroundColor='green';
            event.target.nextElementSibling.checked=true;
            vazet=true;enable();
            
            parent_img_do.forEach(function(element){
                if(element.children[1].value!=event.target.nextElementSibling.value) 
                    element.style.backgroundColor='rgb(9, 13, 54)';})}

        // enable buttn// ------------------------------------------------------------
        function enable(){
            if(vazet&&vazet2){buttn_finsh.style.display='inline'; buttn_finsh.disabled=false;}}


        // select_target ------------------------------------------------------------
        buttn_finsh.disabled=true;
        function  select_target(event){
            select_persen=event.target.parentElement;
            if(select_persen.getAttribute('class')=='parent_img-iconHed') select_persen=select_persen.parentElement;
              
            if(select_persen.getAttribute('class')!='parent-plaer' && select_persen.getAttribute('class')=='plaer'){
                select_persen.children[0].style.border='2px solid red';
                select_persen.style.transform="scale(0.90)";
                select_persen.children[2].checked=true;
                vazet2=true; enable();
            // foreach-------
            plaer.forEach(function (element){
                if(element.lastElementChild.value!=select_persen.lastElementChild.value){
                    if(element.children[0].style.border=='2px solid red'){
                    element.style.transform="scale(1)";
                    element.children[0].style.border='none';
                    }}});}}
    </script>
</body>
</html>